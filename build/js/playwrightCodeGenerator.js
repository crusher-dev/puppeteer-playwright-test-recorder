!function(e){var c={};function n(t){if(c[t])return c[t].exports;var d=c[t]={i:t,l:!1,exports:{}};return e[t].call(d.exports,d,d.exports,n),d.l=!0,d.exports}n.m=e,n.c=c,n.d=function(e,c,t){n.o(e,c)||Object.defineProperty(e,c,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,c){if(1&c&&(e=n(e)),8&c)return e;if(4&c&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&c&&"string"!=typeof e)for(var d in e)n.d(t,d,function(c){return e[c]}.bind(null,d));return t},n.n=function(e){var c=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(c,"a",c),c},n.o=function(e,c){return Object.prototype.hasOwnProperty.call(e,c)},n.p="",n(n.s=2)}([function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.NAVIGATE_URL = \'NAVIGATE_URL\';\nexports.CLICK = "CLICK";\nexports.INPUT = "INPUT";\nexports.HOVER = "HOVER";\nexports.SCROLL_TO_VIEW = "SCROLL_TO_VIEW";\nexports.ASSERT_TEXT = "ASSERT_TEXT";\nexports.EXTRACT_INFO = "EXTRACT_INFO";\nexports.SCREENSHOT = "SCREENSHOT";\nexports.BLACKOUT = "BLACKOUT";\nexports.WAIT = "WAIT";\nexports.PAGE_SCREENSHOT = "PAGE_SCREENSHOT";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvRE9NRXZlbnRzVG9SZWNvcmQudHM/NDE4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgTkFWSUdBVEVfVVJMID0gJ05BVklHQVRFX1VSTCc7XG5leHBvcnQgY29uc3QgQ0xJQ0sgPSBcIkNMSUNLXCI7XG5leHBvcnQgY29uc3QgSU5QVVQgPSBcIklOUFVUXCI7XG5leHBvcnQgY29uc3QgSE9WRVIgPSBcIkhPVkVSXCI7XG5leHBvcnQgY29uc3QgU0NST0xMX1RPX1ZJRVcgPVwiU0NST0xMX1RPX1ZJRVdcIjtcbmV4cG9ydCBjb25zdCBBU1NFUlRfVEVYVD1cIkFTU0VSVF9URVhUXCI7XG5leHBvcnQgY29uc3QgRVhUUkFDVF9JTkZPID0gXCJFWFRSQUNUX0lORk9cIjtcbmV4cG9ydCBjb25zdCBTQ1JFRU5TSE9UID0gXCJTQ1JFRU5TSE9UXCI7XG5leHBvcnQgY29uc3QgQkxBQ0tPVVQgPSBcIkJMQUNLT1VUXCI7XG5leHBvcnQgY29uc3QgV0FJVCA9IFwiV0FJVFwiO1xuZXhwb3J0IGNvbnN0IFBBR0VfU0NSRUVOU0hPVCA9IFwiUEFHRV9TQ1JFRU5TSE9UXCI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')},,function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar DOMEventsToRecord_1 = __webpack_require__(0);\n\nvar importPlayWright = "const puppeteer = require(\'puppeteer\');\\n\\n";\nvar header = "const browser = await puppeteer.launch();\\nconst page = await context.newPage();\\n";\nvar footer = "await browser.close();\\n";\nvar wrappedHeader = "(async () => {\\n  const browser = await puppeteer.launch();\\n  const page = await browser.newPage();\\n";\nvar wrappedFooter = "  await browser.close()\\n})()\\n";\nvar extractInfoUsingScriptFunction = "async function extractInfoUsingScript(page, selector, validationScript){\\n    const elHandle = await page.$(selector);\\n    const escapedInnerHTML = (await elHandle.innerHTML())" + \'.toString().replace(/\\\\`/g, "\\\\\\\\`").trim()\' + ";\\n    const escapedInnerText = (await elHandle.innerText())" + \'.replace(/\\\\`/g, "\\\\\\\\`").trim();\' + ";\\n    \\n    " + "const scriptToEvaluate = \\`(\\` + validationScript + \\`)(\\` + \'\\`\' + escapedInnerHTML + \'\\`\' + \\`, \\` + \'\\`\' + \\`${escapedInnerText}\\` + \'\\`\' + \\`)\\`" + ";\\n    const output = eval(scriptToEvaluate);\\n    \\n    return output;\\n}\\n\\n";\n\nvar PuppeteerCodeGenerator = function () {\n  function PuppeteerCodeGenerator(options) {\n    this.helperFunctionsToInclude = {};\n  }\n\n  PuppeteerCodeGenerator.prototype.generate = function (events) {\n    var generatedEventsCode = this._handleEvents(events);\n\n    return importPlayWright + this.addHelperFunctionsIfAny() + wrappedHeader + generatedEventsCode + wrappedFooter;\n  };\n\n  PuppeteerCodeGenerator.prototype.addHelperFunctionsIfAny = function () {\n    var helperFunctions = Object.keys(this.helperFunctionsToInclude);\n    var codeToAdd = "";\n\n    for (var _i = 0, helperFunctions_1 = helperFunctions; _i < helperFunctions_1.length; _i++) {\n      var fun = helperFunctions_1[_i];\n\n      if (fun === DOMEventsToRecord_1.EXTRACT_INFO) {\n        codeToAdd += extractInfoUsingScriptFunction;\n      }\n    }\n\n    return codeToAdd;\n  };\n\n  PuppeteerCodeGenerator.prototype._handleEvents = function (events) {\n    var screenShotFileName;\n    var code = \'\\n\';\n\n    for (var i = 0; i < events.length; i++) {\n      var _a = events[i],\n          event_type = _a.event_type,\n          selector = _a.selector,\n          value = _a.value;\n\n      switch (event_type) {\n        case DOMEventsToRecord_1.NAVIGATE_URL:\n          code += "  await page.goto(\'" + value + "\');\\n";\n          break;\n\n        case DOMEventsToRecord_1.CLICK:\n          code += "  await page.click(\'" + selector + "\');\\n";\n          break;\n\n        case DOMEventsToRecord_1.HOVER:\n          code += "  await page.hover(\'" + selector + "\');\\n";\n          break;\n\n        case DOMEventsToRecord_1.SCREENSHOT:\n          screenShotFileName = selector.replace(/[^\\w\\s]/gi, \'\').replace(/ /g, \'_\') + ("_" + i);\n          code += "  const h_" + i + " =  await page.$(\'" + selector + "\');\\n   h_" + i + ".screenshot({path: \'" + screenShotFileName + ".png\'});\\n";\n          break;\n\n        case DOMEventsToRecord_1.PAGE_SCREENSHOT:\n          screenShotFileName = value.replace(/[^\\w\\s]/gi, \'\').replace(/ /g, \'_\') + ("_" + i);\n          code += "  await page.screenshot({path: \'" + screenShotFileName + ".png\'});";\n          break;\n\n        case DOMEventsToRecord_1.SCROLL_TO_VIEW:\n          code += "  const stv_" + i + " =  await page.$(\'" + selector + "\');\\nstv_" + i + ".scrollIntoViewIfNeeded();\\n";\n          break;\n\n        case DOMEventsToRecord_1.INPUT:\n          code += "  await page.type(\'" + selector + "\', \'" + value + "\');\\n";\n          break;\n\n        case DOMEventsToRecord_1.EXTRACT_INFO:\n          var variable_name = Object.keys(value)[0];\n          var validation_script = value[variable_name];\n          this.helperFunctionsToInclude[DOMEventsToRecord_1.EXTRACT_INFO] = true;\n          code += "  let " + variable_name + " = await extractInfoUsingScript(page, \'" + selector + "\', " + \'`\' + validation_script + \'`\' + ")\\n";\n          break;\n\n        case DOMEventsToRecord_1.ASSERT_TEXT:\n          this.helperFunctionsToInclude[DOMEventsToRecord_1.ASSERT_TEXT] = true;\n          code += " ";\n\n        default:\n          console.error("Not supported event");\n      }\n    }\n\n    return code;\n  };\n\n  return PuppeteerCodeGenerator;\n}();\n\nexports["default"] = PuppeteerCodeGenerator;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3B1cHB0ZXItY29kZS1nZW5lcmF0b3IudHM/YTNmMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtbm9jaGVja1xuXG5pbXBvcnQge1xuXHRBU1NFUlRfVEVYVCxcblx0Q0xJQ0ssIEVYVFJBQ1RfSU5GTyxcblx0SE9WRVIsXG5cdElOUFVULFxuXHROQVZJR0FURV9VUkwsXG5cdFBBR0VfU0NSRUVOU0hPVCxcblx0U0NSRUVOU0hPVCxcblx0U0NST0xMX1RPX1ZJRVdcbn0gZnJvbSBcIi4uL2NvbnN0YW50cy9ET01FdmVudHNUb1JlY29yZFwiO1xuXG5jb25zdCBpbXBvcnRQbGF5V3JpZ2h0ID0gYGNvbnN0IHB1cHBldGVlciA9IHJlcXVpcmUoJ3B1cHBldGVlcicpO1xcblxcbmBcblxuY29uc3QgaGVhZGVyID0gYGNvbnN0IGJyb3dzZXIgPSBhd2FpdCBwdXBwZXRlZXIubGF1bmNoKCk7XG5jb25zdCBwYWdlID0gYXdhaXQgY29udGV4dC5uZXdQYWdlKCk7XFxuYFxuXG5jb25zdCBmb290ZXIgPSBgYXdhaXQgYnJvd3Nlci5jbG9zZSgpO1xcbmBcblxuY29uc3Qgd3JhcHBlZEhlYWRlciA9IGAoYXN5bmMgKCkgPT4ge1xuICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCgpO1xuICBjb25zdCBwYWdlID0gYXdhaXQgYnJvd3Nlci5uZXdQYWdlKCk7XFxuYFxuXG5jb25zdCB3cmFwcGVkRm9vdGVyID0gYCAgYXdhaXQgYnJvd3Nlci5jbG9zZSgpXG59KSgpXFxuYDtcblxuXG5jb25zdCBleHRyYWN0SW5mb1VzaW5nU2NyaXB0RnVuY3Rpb24gPSBgYXN5bmMgZnVuY3Rpb24gZXh0cmFjdEluZm9Vc2luZ1NjcmlwdChwYWdlLCBzZWxlY3RvciwgdmFsaWRhdGlvblNjcmlwdCl7XG4gICAgY29uc3QgZWxIYW5kbGUgPSBhd2FpdCBwYWdlLiQoc2VsZWN0b3IpO1xuICAgIGNvbnN0IGVzY2FwZWRJbm5lckhUTUwgPSAoYXdhaXQgZWxIYW5kbGUuaW5uZXJIVE1MKCkpYCArICcudG9TdHJpbmcoKS5yZXBsYWNlKC9cXFxcYC9nLCBcIlxcXFxcXFxcYFwiKS50cmltKCknICsgYDtcbiAgICBjb25zdCBlc2NhcGVkSW5uZXJUZXh0ID0gKGF3YWl0IGVsSGFuZGxlLmlubmVyVGV4dCgpKWAgKyAnLnJlcGxhY2UoL1xcXFxgL2csIFwiXFxcXFxcXFxgXCIpLnRyaW0oKTsnICsgYDtcbiAgICBcbiAgICBgKyBcImNvbnN0IHNjcmlwdFRvRXZhbHVhdGUgPSBcXGAoXFxgICsgdmFsaWRhdGlvblNjcmlwdCArIFxcYCkoXFxgICsgJ1xcYCcgKyBlc2NhcGVkSW5uZXJIVE1MICsgJ1xcYCcgKyBcXGAsIFxcYCArICdcXGAnICsgXFxgJHtlc2NhcGVkSW5uZXJUZXh0fVxcYCArICdcXGAnICsgXFxgKVxcYFwiICsgYDtcbiAgICBjb25zdCBvdXRwdXQgPSBldmFsKHNjcmlwdFRvRXZhbHVhdGUpO1xuICAgIFxuICAgIHJldHVybiBvdXRwdXQ7XG59XFxuXFxuYDtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQdXBwZXRlZXJDb2RlR2VuZXJhdG9yIHtcblx0aGVscGVyRnVuY3Rpb25zVG9JbmNsdWRlOiBhbnk7XG5cblx0Y29uc3RydWN0b3Iob3B0aW9uczogYW55KSB7XG5cdFx0dGhpcy5oZWxwZXJGdW5jdGlvbnNUb0luY2x1ZGUgPSB7fTtcblx0fVxuXG5cdGdlbmVyYXRlKGV2ZW50czogYW55KXtcblx0XHRjb25zdCBnZW5lcmF0ZWRFdmVudHNDb2RlID0gdGhpcy5faGFuZGxlRXZlbnRzKGV2ZW50cyk7XG5cdFx0cmV0dXJuIGltcG9ydFBsYXlXcmlnaHQgKyB0aGlzLmFkZEhlbHBlckZ1bmN0aW9uc0lmQW55KCkgKyB3cmFwcGVkSGVhZGVyICsgZ2VuZXJhdGVkRXZlbnRzQ29kZSArIHdyYXBwZWRGb290ZXI7XG5cdH1cblxuXHRhZGRIZWxwZXJGdW5jdGlvbnNJZkFueSgpe1xuXHRcdGNvbnN0IGhlbHBlckZ1bmN0aW9ucyA9IE9iamVjdC5rZXlzKHRoaXMuaGVscGVyRnVuY3Rpb25zVG9JbmNsdWRlKTtcblx0XHRsZXQgY29kZVRvQWRkID0gXCJcIjtcblx0XHRmb3IobGV0IGZ1biBvZiBoZWxwZXJGdW5jdGlvbnMpe1xuXHRcdFx0aWYoZnVuID09PSBFWFRSQUNUX0lORk8pe1xuXHRcdFx0XHRjb2RlVG9BZGQrPSBleHRyYWN0SW5mb1VzaW5nU2NyaXB0RnVuY3Rpb247XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjb2RlVG9BZGQ7XG5cdH1cblxuXHRfaGFuZGxlRXZlbnRzKGV2ZW50czogYW55KXtcblx0XHRsZXQgc2NyZWVuU2hvdEZpbGVOYW1lOiBzdHJpbmc7XG5cdFx0bGV0IGNvZGUgPSAnXFxuJztcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgeyBldmVudF90eXBlLCBzZWxlY3RvciwgdmFsdWUgfSA9IGV2ZW50c1tpXTtcblx0XHRcdHN3aXRjaCAoZXZlbnRfdHlwZSkge1xuXHRcdFx0XHRjYXNlIE5BVklHQVRFX1VSTDpcblx0XHRcdFx0XHRjb2RlICs9IGAgIGF3YWl0IHBhZ2UuZ290bygnJHt2YWx1ZX0nKTtcXG5gO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIENMSUNLOlxuXHRcdFx0XHRcdGNvZGUgKz0gYCAgYXdhaXQgcGFnZS5jbGljaygnJHtzZWxlY3Rvcn0nKTtcXG5gO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIEhPVkVSOlxuXHRcdFx0XHRcdGNvZGUgKz0gYCAgYXdhaXQgcGFnZS5ob3ZlcignJHtzZWxlY3Rvcn0nKTtcXG5gO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFNDUkVFTlNIT1Q6XG5cdFx0XHRcdFx0c2NyZWVuU2hvdEZpbGVOYW1lID0gc2VsZWN0b3IucmVwbGFjZSgvW15cXHdcXHNdL2dpLCAnJykucmVwbGFjZSgvIC9nLCAnXycpICsgYF8ke2l9YDtcblx0XHRcdFx0XHRjb2RlICs9IGAgIGNvbnN0IGhfJHtpfSA9ICBhd2FpdCBwYWdlLiQoJyR7c2VsZWN0b3J9Jyk7XFxuICAgaF8ke2l9LnNjcmVlbnNob3Qoe3BhdGg6ICcke3NjcmVlblNob3RGaWxlTmFtZX0ucG5nJ30pO1xcbmA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUEFHRV9TQ1JFRU5TSE9UOlxuXHRcdFx0XHRcdHNjcmVlblNob3RGaWxlTmFtZSA9IHZhbHVlLnJlcGxhY2UoL1teXFx3XFxzXS9naSwgJycpLnJlcGxhY2UoLyAvZywgJ18nKSArIGBfJHtpfWA7XG5cdFx0XHRcdFx0Y29kZSArPSBgICBhd2FpdCBwYWdlLnNjcmVlbnNob3Qoe3BhdGg6ICcke3NjcmVlblNob3RGaWxlTmFtZX0ucG5nJ30pO2A7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgU0NST0xMX1RPX1ZJRVc6XG5cdFx0XHRcdFx0Y29kZSArPSBgICBjb25zdCBzdHZfJHtpfSA9ICBhd2FpdCBwYWdlLiQoJyR7c2VsZWN0b3J9Jyk7XFxuc3R2XyR7aX0uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpO1xcbmBcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBJTlBVVDpcblx0XHRcdFx0XHRjb2RlICs9IGAgIGF3YWl0IHBhZ2UudHlwZSgnJHtzZWxlY3Rvcn0nLCAnJHt2YWx1ZX0nKTtcXG5gO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIEVYVFJBQ1RfSU5GTzpcblx0XHRcdFx0XHRjb25zdCB2YXJpYWJsZV9uYW1lID0gT2JqZWN0LmtleXModmFsdWUpWzBdO1xuXHRcdFx0XHRcdGNvbnN0IHZhbGlkYXRpb25fc2NyaXB0ID0gdmFsdWVbdmFyaWFibGVfbmFtZV07XG5cdFx0XHRcdFx0dGhpcy5oZWxwZXJGdW5jdGlvbnNUb0luY2x1ZGVbRVhUUkFDVF9JTkZPXSA9IHRydWU7XG5cdFx0XHRcdFx0Y29kZSArPSBgICBsZXQgJHt2YXJpYWJsZV9uYW1lfSA9IGF3YWl0IGV4dHJhY3RJbmZvVXNpbmdTY3JpcHQocGFnZSwgJyR7c2VsZWN0b3J9JywgYCArICdgJyArIHZhbGlkYXRpb25fc2NyaXB0ICsgJ2AnICsgYClcXG5gO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIEFTU0VSVF9URVhUOlxuXHRcdFx0XHRcdHRoaXMuaGVscGVyRnVuY3Rpb25zVG9JbmNsdWRlW0FTU0VSVF9URVhUXSA9IHRydWU7XG5cdFx0XHRcdFx0Y29kZSArPSBgIGBcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKFwiTm90IHN1cHBvcnRlZCBldmVudFwiKTtcblx0XHRcdH1cblxuXHRcdH1cblx0XHRyZXR1cm4gY29kZTtcblx0fVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFFQTtBQUNBO0FBVUE7QUFFQTtBQUdBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFXQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBbENBO0FBcUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')}]);